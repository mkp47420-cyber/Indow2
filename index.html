<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pro Reel Downloader â€“ HD Experience</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Premium Instagram Reels Downloader with History and HD support.">

<style>
:root{
  --bg:#0f172a;
  --card: rgba(255, 255, 255, 0.05);
  --glass: rgba(255, 255, 255, 0.1);
  --text:#f8fafc;
  --muted:#94a3b8;
  --primary:#ff0050;
  --secondary:#8b5cf6;
  --accent: #00d2ff;
  --radius:24px;
}

[data-theme="light"]{
  --bg:#f1f5f9;
  --card: rgba(255, 255, 255, 0.8);
  --glass: rgba(255, 255, 255, 0.5);
  --text:#1e293b;
  --muted:#64748b;
}

*{box-sizing:border-box; transition: all 0.3s ease;}

body{
  margin:0;
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg);
  color:var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Background Animation */
.blobs {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: -1;
  overflow: hidden;
  filter: blur(80px);
}
.blob {
  position: absolute;
  width: 300px; height: 300px;
  background: var(--primary);
  border-radius: 50%;
  opacity: 0.2;
  animation: move 20s infinite alternate;
}
.blob2 { background: var(--secondary); left: 50%; animation-delay: -5s; }
@keyframes move {
  from { transform: translate(-10%, -10%); }
  to { transform: translate(100%, 100%); }
}

header{
  padding:20px 5%;
  display:flex;
  justify-content:space-between;
  align-items:center;
  backdrop-filter: blur(10px);
  position: sticky; top: 0; z-index: 100;
}

.logo{
  font-weight:800;
  font-size:1.5rem;
  background: linear-gradient(to right, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.container{
  max-width:1100px;
  margin:auto;
  padding:20px;
}

.hero{
  display:grid;
  grid-template-columns: 1fr;
  gap:25px;
  margin-top: 20px;
}

@media(min-width:900px){ .hero{ grid-template-columns: 1.5fr 1fr; } }

.card{
  background: var(--card);
  backdrop-filter: blur(16px);
  border: 1px solid var(--glass);
  border-radius:var(--radius);
  padding:30px;
  box-shadow: 0 8px 32px 0 rgba(0,0,0,0.3);
}

h1{ font-size: 2.2rem; margin-bottom: 10px; font-weight: 800;}

input{
  width:100%;
  padding:18px;
  border-radius:16px;
  border: 1px solid var(--glass);
  background: var(--glass);
  color: var(--text);
  font-size:16px;
  outline: none;
}
input:focus { border-color: var(--secondary); box-shadow: 0 0 15px rgba(139, 92, 246, 0.3); }

.actions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:15px;
  margin-top:20px;
}

button{
  padding:16px;
  border:none;
  border-radius:16px;
  font-weight: 600;
  cursor:pointer;
  display: flex; align-items: center; justify-content: center; gap: 8px;
}

.primary{
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color:#fff;
  box-shadow: 0 4px 15px rgba(255, 0, 80, 0.3);
}
.primary:hover{ transform: translateY(-3px); box-shadow: 0 8px 25px rgba(255, 0, 80, 0.4); }

.secondary{ background: var(--glass); color: var(--text); }

/* History Section */
.history-section { margin-top: 40px; }
.history-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 15px; margin-top: 15px;
}
.history-item {
  background: var(--glass);
  border-radius: 15px;
  padding: 10px;
  text-align: center;
  font-size: 12px;
}
.history-item img { width: 100%; border-radius: 10px; margin-bottom: 5px; cursor: pointer; }

/* Advanced Loader */
.loader {
  display: none;
  text-align: center;
  margin: 20px 0;
}
.spinner {
  width: 40px; height: 40px;
  border: 4px solid var(--glass);
  border-top: 4px solid var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: auto;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

.result video {
  width: 100%;
  border-radius: 20px;
  margin-top: 20px;
  border: 1px solid var(--glass);
}

.footer{ margin-top: 60px; padding: 40px; text-align: center; opacity: 0.6; }
</style>
</head>

<body>
<div class="blobs">
  <div class="blob"></div>
  <div class="blob blob2"></div>
</div>

<header>
  <div class="logo">ReelPro AI</div>
  <button class="toggle" onclick="toggleTheme()" style="background:none; border:none; font-size:24px; cursor:pointer;">ðŸŒ“</button>
</header>

<div class="container">
  <section class="hero">
    <div class="card">
      <h1>Premium Downloader</h1>
      <p style="color:var(--muted)">Experience the fastest way to save Instagram Reels in Ultra HD quality.</p>

      <div style="position:relative; margin-top:30px;">
        <input id="reelUrl" placeholder="Paste link here...">
      </div>

      <div class="actions">
        <button class="secondary" onclick="pasteFromClipboard()">ðŸ“‹ Paste</button>
        <button class="primary" onclick="downloadReel()">âš¡ Download Now</button>
      </div>

      <div class="loader" id="loader">
        <div class="spinner"></div>
        <p>AI is fetching your media...</p>
      </div>

      <div class="result" id="result"></div>
    </div>

    <div class="card" style="display:flex; flex-direction:column; justify-content:center;">
      <h2 style="margin:0">Quick Info</h2>
      <ul style="color:var(--muted); line-height:2; padding-left:20px;">
        <li>High-Speed Dedicated Servers</li>
        <li>No Account Required</li>
        <li>Supports Private Reels (Public links)</li>
        <li>Unlimited Daily Downloads</li>
      </ul>
    </div>
  </section>

  <!-- History Feature -->
  <div class="history-section" id="historyWrapper" style="display:none;">
    <h2>Recent Downloads</h2>
    <div class="history-grid" id="historyGrid"></div>
  </div>

  <div class="footer">
    <p>Â© 2026 ReelPro AI â€¢ Made for Creators</p>
    <small>Privacy â€¢ Terms â€¢ API Status: Online</small>
  </div>
</div>

<script>
const API_KEY="35a9b0d589msh4196cb7a0b77a36p19596ajsnf24b18699a50";
const API_HOST="instagram-downloader-download-instagram-stories-videos4.p.rapidapi.com";
const API_URL="https://instagram-downloader-download-instagram-stories-videos4.p.rapidapi.com/convert";

function toggleTheme(){
  const t=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";
  document.documentElement.setAttribute("data-theme",t);
}

async function pasteFromClipboard(){
  try{
    const text = await navigator.clipboard.readText();
    document.getElementById("reelUrl").value = text;
  }catch(e){ alert("Clipboard access denied"); }
}

// Logic for Recent History
function saveToHistory(thumbnail, url) {
  let history = JSON.parse(localStorage.getItem('reelHistory') || '[]');
  // Check if already exists
  if(!history.find(item => item.url === url)){
    history.unshift({thumbnail, url, date: new Date().toLocaleDateString()});
    if(history.length > 5) history.pop(); // Keep last 5
    localStorage.setItem('reelHistory', JSON.stringify(history));
    renderHistory();
  }
}

function renderHistory() {
  const history = JSON.parse(localStorage.getItem('reelHistory') || '[]');
  const grid = document.getElementById('historyGrid');
  const wrapper = document.getElementById('historyWrapper');
  
  if(history.length > 0) {
    wrapper.style.display = "block";
    grid.innerHTML = history.map(item => `
      <div class="history-item">
        <img src="${item.thumbnail}" onclick="window.open('${item.url}')">
        <div style="margin-top:5px; opacity:0.7">${item.date}</div>
      </div>
    `).join('');
  }
}

async function downloadReel(){
  const input=document.getElementById("reelUrl").value.trim();
  const loader=document.getElementById("loader");
  const result=document.getElementById("result");
  
  if(!input.includes("instagram.com")){
    alert("Please enter a valid Instagram URL");
    return;
  }

  result.style.display="none";
  loader.style.display="block";

  try{
    const res=await fetch(API_URL+"?url="+encodeURIComponent(input),{
      headers:{ "x-rapidapi-key":API_KEY, "x-rapidapi-host":API_HOST }
    });
    const data=await res.json();
    loader.style.display="none";

    if(data && data.media && data.media[0]){
      const video = data.media[0].url;
      const thumb = data.media[0].thumbnail || 'https://via.placeholder.com/150';
      
      result.style.display="block";
      result.innerHTML=`
        <div style="background:rgba(34,197,94,0.2); padding:15px; border-radius:12px; color:#4ade80; margin-bottom:15px; text-align:center;">
          âœ… Ready to Download
        </div>
        <video controls autoplay muted src="${video}"></video>
        <div class="actions">
          <a href="${video}" target="_blank" style="text-decoration:none; width:100%">
            <button class="primary" style="width:100%">ðŸ’¾ Save Video</button>
          </a>
          <button class="secondary" onclick="navigator.clipboard.writeText('${video}'); alert('Link Copied!')">ðŸ”— Copy Link</button>
        </div>
      `;
      
      saveToHistory(thumb, video);
    } else {
      throw new Error();
    }
  }catch(err){
    loader.style.display="none";
    alert("Error: Link might be private or API limit reached.");
  }
}

// Initialize history on load
window.onload = renderHistory;
</script>
</body>
</html>
<script>
  atOptions = {
    'key' : 'fc6fc2201173763ccfcbbb64f95a226d',
    'format' : 'iframe',
    'height' : 250,
    'width' : 300,
    'params' : {}
  };
</script>
<script src="https://www.highperformanceformat.com/fc6fc2201173763ccfcbbb64f95a226d/invoke.js"></script>